capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
}
}
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
Dow30_currmonth
#Apply CAPM for each subset of data
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname,"~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
}
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname,"~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
}
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
Dow30_permonth
#Apply CAPM for each subset of data
}
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
print(Dow30_currmonth)
#Apply CAPM for each subset of data
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname,"~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
Dow30_permonth['yvar_colname']
#camp_name
#capm_name <- lm(paste(yvar_colname,"~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
#capm_coef = capm_name$coefficients[3]
#capm_coef
#print(paste(Dow30_currmonth,yvar_colname,test))
}
Dow30_permonth['yvar_colname']
yvar_colname
Dow30_permonth[yvar_colname]
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
Dow30_permonth[yvar_colname]
#camp_name
#capm_name <- lm(paste(yvar_colname,"~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
#capm_coef = capm_name$coefficients[3]
#capm_coef
#print(paste(Dow30_currmonth,yvar_colname,test))
}
Dow30_permonth[yvar_colname]
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
#capm_name <- lm(paste(yvar_colname,"~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
#capm_coef = capm_name$coefficients[3]
#capm_coef
#print(paste(Dow30_currmonth,yvar_colname,test))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste(yvar_colname,"~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
#capm_coef = capm_name$coefficients[3]
#capm_coef
#print(paste(Dow30_currmonth,yvar_colname,test))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste(yvar_colname,"~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
#capm_coef = capm_name$coefficients[3]
#capm_coef
#print(paste(Dow30_currmonth,yvar_colname,test))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste(yvar_colname,"~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste("AAPL.Return","~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste("XOM.Return","~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(XOM.Return~RF+Mkt.RF,sep = "",data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
}
warnings()
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(XOM.Return~RF+Mkt.RF,data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(XOM.Return~RF+Mkt.RF,data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
}
camp_name
capm_name <- lm(XOM.Return~RF+Mkt.RF,data = Dow30_permonth)
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(XOM.Return~RF+Mkt.RF,data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,camp_name))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(XOM.Return~RF+Mkt.RF,data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,capm_coef))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(AAPL.Return~RF+Mkt.RF,data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,capm_coef))
}
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
print((paste(yvar_colname,"~RF+Mkt.RF",sep = "")))
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste(yvar_colname,"~RF+Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
print((paste(yvar_colname,"~RF+Mkt.RF",sep = "")))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
print((paste(yvar_colname,"~RF+Mkt.RF",sep = "")))
}
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
print((paste(yvar_colname,"~RF+Mkt.RF",sep = "")))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
print((paste(yvar_colname," ~ RF + Mkt.RF",sep = "")))
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,capm_coef))
#print((paste(yvar_colname," ~ RF + Mkt.RF",sep = "")))
}
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
print(Dow30_currmonth)
#Apply CAPM for each subset of data
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,test))
}
}
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
#print(yvar_colname)
Dow30_permonth[yvar_colname]
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,capm_coef))
#print((paste(yvar_colname," ~ RF + Mkt.RF",sep = "")))
}
yearmonth_num <- nrow(yearmonth_list)
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
print(Dow30_currmonth)
#Apply CAPM for each subset of data
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
print(paste(Dow30_currmonth,yvar_colname,capm_coef))
}
}
yearmonth_list
Coef_frame <- read.csv(file = 'ModelCoeff_frame.csv')
View(Coef_frame)
Coef_frame[i,j] = capm_coef
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
print(Dow30_currmonth)
#Apply CAPM for each subset of data
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
Coef_frame[i,j] = capm_coef
}
}
write.csv(Coef_frame,"CAMP_Coeff.csv", row.names = FALSE)
write.csv(Coef_frame,"Model_Coeff/CAMP_Coeff.csv", row.names = FALSE)
Coef_frame <- read.csv(file = 'ModelCoeff_frame.csv')
write_row = 2
write_row = 2
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
#print(Dow30_currmonth)
#Apply CAPM for each subset of data
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
Coef_frame[write_row,j+1] = capm_coef
write_row = write_row+1
}
}
write.csv(Coef_frame,"Model_Coeff/CAMP_Coeff.csv", row.names = FALSE)
Coef_frame <- read.csv(file = 'ModelCoeff_frame.csv')
write_row = 2
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
#print(Dow30_currmonth)
#Apply CAPM for each subset of data
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
Coef_frame[write_row,j+1] = capm_coef
}
write_row = write_row+1
}
write.csv(Coef_frame,"Model_Coeff/CAMP_Coeff.csv", row.names = FALSE)
write_row = 1
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
#print(Dow30_currmonth)
#Apply CAPM for each subset of data
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
Coef_frame[write_row,j+1] = capm_coef
}
write_row = write_row+1
}
write.csv(Coef_frame,"Model_Coeff/CAMP_Coeff.csv", row.names = FALSE)
write_row = 1
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
print(Dow30_currmonth)
#Apply CAPM for each subset of data
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
Coef_frame[write_row,j+1] = capm_coef
}
write_row = write_row+1
}
##Read in data -- returns and fama parameters
setwd("C:/Users/sharo/OneDrive/Documents/Research Assistant/Tast1_DowJones/DowJonesTask")
model_raw <- read.csv(file = 'Dow30_ModelInput.csv')
head(model_raw)
## Cut data for 160 Year&Month and loop through each month
#Create a list of Dow 30 stocks
col_name = colnames(model_raw)
col_name_selected = col_name[3:32]
Dow30_names = vector()
for (i in seq_along(col_name_selected)){
Dow30_name <- strsplit(col_name_selected,"[.]")[[i]][1]
Dow30_names[i] <- Dow30_name
}
Dow30_names
#Select data by year&month (159 sets of data)
yearmonth_list <- unique(model_raw["Year_Month"])
yearmonth_num <- nrow(yearmonth_list)
Coef_frame <- read.csv(file = 'ModelCoeff_frame.csv')
write_row = 1
for (i in 1:yearmonth_num){
#select data by year&month (end up with 159 subsets)
Dow30_permonth <- subset(model_raw, Year_Month == yearmonth_list[i,1])
Dow30_currmonth = Dow30_permonth['Year_Month'][1,1]
print(Dow30_currmonth)
#Apply CAPM for each subset of data
for (j in seq_along(Dow30_names)) {
yvar_colname = paste(Dow30_names[j],".Return", sep="")
camp_name = paste(Dow30_names[j],"_capm", sep="")
yvar_colname
camp_name
capm_name <- lm(paste(yvar_colname," ~ RF + Mkt.RF",sep = ""),data = Dow30_permonth)
capm_coef = capm_name$coefficients[3]
capm_coef
#print(paste(Dow30_currmonth,yvar_colname,capm_coef))
Coef_frame[write_row,j+1] = capm_coef
}
write_row = write_row+1
}
write.csv(Coef_frame,"Model_Coeff/CAMP_Coeff.csv", row.names = FALSE)
test_file = read.csv(file = 'test.csv')
test_lm = lm(CVX.Return ~ RF + Mkt.RF, data = test_file)
test_coef = test_lm$coefficients[3]
test_coef
test_file = read.csv(file = 'test.csv')
test_lm = lm(CVX.Return ~ RF + Mkt.RF, data = test_file)
test_coef = test_lm$coefficients[3]
test_coef
test_file = read.csv(file = 'test.csv')
test_lm = lm(CVX.Return ~ RF + Mkt.RF, data = test_file)
test_coef = test_lm$coefficients[3]
test_coef
test_file = read.csv(file = 'test.csv')
test_lm = lm(CVX.Return ~ RF + Mkt.RF, data = test_file)
test_coef = test_lm$coefficients[3]
test_coef
test_file = read.csv(file = 'test.csv')
test_lm = lm(CVX.Return ~ RF + Mkt.RF, data = test_file)
test_coef = test_lm$coefficients[3]
test_coef
